\hypertarget{group__hal}{}\section{Hal}
\label{group__hal}\index{Hal@{Hal}}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__hal_ga2848d27ae631e5ea166a047b10968eff}{}\#define {\bfseries P\+I\+C0\+\_\+\+I\+C\+W1}~0x0020\label{group__hal_ga2848d27ae631e5ea166a047b10968eff}

\item 
\hypertarget{group__hal_gad634cb61f109eb41b718c8002dc1415c}{}\#define {\bfseries P\+I\+C0\+\_\+\+O\+C\+W2}~0x0020\label{group__hal_gad634cb61f109eb41b718c8002dc1415c}

\item 
\hypertarget{group__hal_gab78c32730c3c70d2d478f24a7c0735f4}{}\#define {\bfseries P\+I\+C0\+\_\+\+I\+M\+R}~0x0021\label{group__hal_gab78c32730c3c70d2d478f24a7c0735f4}

\item 
\hypertarget{group__hal_ga9878464c631c46a1c2aaab9e5912c790}{}\#define {\bfseries P\+I\+C0\+\_\+\+I\+C\+W2}~0x0021\label{group__hal_ga9878464c631c46a1c2aaab9e5912c790}

\item 
\hypertarget{group__hal_ga85a058cafc12a4d99dba78a17595adeb}{}\#define {\bfseries P\+I\+C0\+\_\+\+I\+C\+W3}~0x0021\label{group__hal_ga85a058cafc12a4d99dba78a17595adeb}

\item 
\hypertarget{group__hal_gadfbedb8dab608ce26852e3f436b3b2d7}{}\#define {\bfseries P\+I\+C0\+\_\+\+I\+C\+W4}~0x0021\label{group__hal_gadfbedb8dab608ce26852e3f436b3b2d7}

\item 
\hypertarget{group__hal_gab38487cc1695aff0e2c8ff9d8098ee7f}{}\#define {\bfseries P\+I\+C1\+\_\+\+I\+C\+W1}~0x00a0\label{group__hal_gab38487cc1695aff0e2c8ff9d8098ee7f}

\item 
\hypertarget{group__hal_ga13c1baed1a4823c4f568e25b062310cd}{}\#define {\bfseries P\+I\+C1\+\_\+\+O\+C\+W2}~0x00a0\label{group__hal_ga13c1baed1a4823c4f568e25b062310cd}

\item 
\hypertarget{group__hal_gadfb8ad9cdb4b01794bb0d7c946873b29}{}\#define {\bfseries P\+I\+C1\+\_\+\+I\+M\+R}~0x00a1\label{group__hal_gadfb8ad9cdb4b01794bb0d7c946873b29}

\item 
\hypertarget{group__hal_gaf24f58d2f0bd1231506ed65caa0b9e6b}{}\#define {\bfseries P\+I\+C1\+\_\+\+I\+C\+W2}~0x00a1\label{group__hal_gaf24f58d2f0bd1231506ed65caa0b9e6b}

\item 
\hypertarget{group__hal_ga9ba782100f085a722f323d6f4f5f96f9}{}\#define {\bfseries P\+I\+C1\+\_\+\+I\+C\+W3}~0x00a1\label{group__hal_ga9ba782100f085a722f323d6f4f5f96f9}

\item 
\hypertarget{group__hal_ga32cc107ef3e1d0e2daaf9775c4bd30e6}{}\#define {\bfseries P\+I\+C1\+\_\+\+I\+C\+W4}~0x00a1\label{group__hal_ga32cc107ef3e1d0e2daaf9775c4bd30e6}

\item 
\hypertarget{group__hal_ga26e8797f8769f99f2e3d1d23807b9681}{}\#define {\bfseries P\+O\+R\+T\+\_\+\+K\+E\+Y\+D\+A\+T}~0x0060\label{group__hal_ga26e8797f8769f99f2e3d1d23807b9681}

\item 
\hypertarget{group__hal_gaecbeb49435311e470e44e1ef33e1e0dc}{}\#define {\bfseries P\+O\+R\+T\+\_\+\+K\+E\+Y\+S\+T\+A}~0x0064\label{group__hal_gaecbeb49435311e470e44e1ef33e1e0dc}

\item 
\hypertarget{group__hal_ga4284ba61f1d5d637083da21127ee4bff}{}\#define {\bfseries P\+O\+R\+T\+\_\+\+K\+E\+Y\+C\+M\+D}~0x0064\label{group__hal_ga4284ba61f1d5d637083da21127ee4bff}

\item 
\hypertarget{group__hal_ga76542314fe11eb39b22f93ff8187b08f}{}\#define {\bfseries K\+E\+Y\+S\+T\+A\+\_\+\+S\+E\+N\+D\+\_\+\+N\+O\+T\+R\+E\+A\+D\+Y}~0x02\label{group__hal_ga76542314fe11eb39b22f93ff8187b08f}

\item 
\hypertarget{group__hal_ga1c7cab517e1c1b2f4c280715c07d6df2}{}\#define {\bfseries K\+E\+Y\+C\+M\+D\+\_\+\+W\+R\+I\+T\+E\+\_\+\+M\+O\+D\+E}~0x60\label{group__hal_ga1c7cab517e1c1b2f4c280715c07d6df2}

\item 
\hypertarget{group__hal_ga4b408031943644b59d1a7f94218477b6}{}\#define {\bfseries K\+B\+C\+\_\+\+M\+O\+D\+E}~0x47\label{group__hal_ga4b408031943644b59d1a7f94218477b6}

\item 
\hypertarget{group__hal_ga57804c5d20761a9c150e76e4007e88e0}{}\#define {\bfseries K\+E\+Y\+C\+M\+D\+\_\+\+S\+E\+N\+D\+T\+O\+\_\+\+M\+O\+U\+S\+E}~0xd4\label{group__hal_ga57804c5d20761a9c150e76e4007e88e0}

\item 
\hypertarget{group__hal_gadb0b2b20b6a3796574c3fd7c3c22f549}{}\#define {\bfseries M\+O\+U\+S\+E\+C\+M\+D\+\_\+\+E\+N\+A\+B\+L\+E}~0xf4\label{group__hal_gadb0b2b20b6a3796574c3fd7c3c22f549}

\item 
\hypertarget{group__hal_ga81d4706a741fd9db65d8af831fc3e282}{}\#define {\bfseries E\+F\+L\+A\+G\+S\+\_\+\+A\+C\+\_\+\+B\+I\+T\+S}~0x00040000\label{group__hal_ga81d4706a741fd9db65d8af831fc3e282}

\item 
\hypertarget{group__hal_gaa4f66a4fbbc03e7c8ce7dfe56d3184a7}{}\#define {\bfseries C\+R0\+\_\+\+C\+A\+C\+H\+E\+\_\+\+D\+I\+S\+A\+B\+L\+E}~0x60000000\label{group__hal_gaa4f66a4fbbc03e7c8ce7dfe56d3184a7}

\item 
\hypertarget{group__hal_ga92ff76b55680dfe73f95c2031d122c88}{}\#define \hyperlink{group__hal_ga92ff76b55680dfe73f95c2031d122c88}{P\+I\+T\+\_\+\+C\+T\+R\+L}~0x0043\label{group__hal_ga92ff76b55680dfe73f95c2031d122c88}

\begin{DoxyCompactList}\small\item\em B\+I\+O\+S used, related to timer. \end{DoxyCompactList}\item 
\hypertarget{group__hal_ga09e4f04647b9697c00fd5c4a20b73c2a}{}\#define \hyperlink{group__hal_ga09e4f04647b9697c00fd5c4a20b73c2a}{P\+I\+T\+\_\+\+C\+N\+T0}~0x0040\label{group__hal_ga09e4f04647b9697c00fd5c4a20b73c2a}

\begin{DoxyCompactList}\small\item\em B\+I\+O\+S used, related to timer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__hal_gafbc0dbef6f15e2df21b38724ea38c483}{init\+\_\+pic} (void)
\begin{DoxyCompactList}\small\item\em init programed interrupt vector \end{DoxyCompactList}\item 
boolean \hyperlink{group__hal_ga950bdcbc93f8f964e5725e1aa8b3b5ca}{is\+Cpu\+\_\+i386} ()
\begin{DoxyCompactList}\small\item\em test whether the cpu is exactly I386. \end{DoxyCompactList}\item 
void \hyperlink{group__hal_gaa6c71ad32c0f9672da37fb41f7c061ea}{enable\+Cache} ()
\begin{DoxyCompactList}\small\item\em enable cache of C\+P\+U. \end{DoxyCompactList}\item 
void \hyperlink{group__hal_ga6f714ef9aafc948538caa3ca15a508cc}{disable\+Cache} ()
\begin{DoxyCompactList}\small\item\em disable cache of C\+P\+U. \end{DoxyCompactList}\item 
uint32 \hyperlink{group__hal_ga81897fb798b4a6de7461ec60532ba18c}{memtest} (uint32 start, uint32 end)
\begin{DoxyCompactList}\small\item\em test the existed memory. \end{DoxyCompactList}\item 
void \hyperlink{group__hal_ga69b08db00a381a9cad104bb62187a878}{interrupt\+\_\+handler\+\_\+0x21} (int32 $\ast$esp)
\begin{DoxyCompactList}\small\item\em interrupt routine of keyboard. \end{DoxyCompactList}\item 
void \hyperlink{group__hal_gaf6af72f1d0cb5d5742c565576f375591}{interrupt\+\_\+handler\+\_\+0x27} (int32 $\ast$esp)
\begin{DoxyCompactList}\small\item\em interrupt routine used for compatible and make code work. \end{DoxyCompactList}\item 
void \hyperlink{group__hal_gad9f893ba050719bae099b3b1d5d1146c}{interrupt\+\_\+handler\+\_\+0x2c} (int32 $\ast$esp)
\begin{DoxyCompactList}\small\item\em interrupt routine of mouse. \end{DoxyCompactList}\item 
\hypertarget{group__hal_ga9a683e6357146e328c456aca95e63d6e}{}int32 {\bfseries interrupt\+\_\+handler\+\_\+0x0c} (int32 esp)\label{group__hal_ga9a683e6357146e328c456aca95e63d6e}

\item 
\hypertarget{group__hal_gaeaf250d4684fc072f0bf76de10411622}{}int32 {\bfseries interrupt\+\_\+handler\+\_\+0x0d} (int32 esp)\label{group__hal_gaeaf250d4684fc072f0bf76de10411622}

\item 
int32 \hyperlink{group__hal_ga943b20139b86756bb58ced0a5f7a71df}{os\+\_\+console\+\_\+api} (int32 edi, int32 esi, int32 ebp, int32 esp, int32 ebx, int32 edx, int32 ecx, int32 eax)
\begin{DoxyCompactList}\small\item\em call os api in console. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Function Documentation}
\hypertarget{group__hal_ga6f714ef9aafc948538caa3ca15a508cc}{}\index{Hal@{Hal}!disable\+Cache@{disable\+Cache}}
\index{disable\+Cache@{disable\+Cache}!Hal@{Hal}}
\subsubsection[{disable\+Cache}]{\setlength{\rightskip}{0pt plus 5cm}void disable\+Cache (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{group__hal_ga6f714ef9aafc948538caa3ca15a508cc}


disable cache of C\+P\+U. 


\begin{DoxyParams}{Parameters}
{\em N\+U\+L\+L.} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L. 
\end{DoxyReturn}
\hypertarget{group__hal_gaa6c71ad32c0f9672da37fb41f7c061ea}{}\index{Hal@{Hal}!enable\+Cache@{enable\+Cache}}
\index{enable\+Cache@{enable\+Cache}!Hal@{Hal}}
\subsubsection[{enable\+Cache}]{\setlength{\rightskip}{0pt plus 5cm}void enable\+Cache (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{group__hal_gaa6c71ad32c0f9672da37fb41f7c061ea}


enable cache of C\+P\+U. 


\begin{DoxyParams}{Parameters}
{\em N\+U\+L\+L.} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L. 
\end{DoxyReturn}
\hypertarget{group__hal_gafbc0dbef6f15e2df21b38724ea38c483}{}\index{Hal@{Hal}!init\+\_\+pic@{init\+\_\+pic}}
\index{init\+\_\+pic@{init\+\_\+pic}!Hal@{Hal}}
\subsubsection[{init\+\_\+pic}]{\setlength{\rightskip}{0pt plus 5cm}void init\+\_\+pic (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{group__hal_gafbc0dbef6f15e2df21b38724ea38c483}


init programed interrupt vector 


\begin{DoxyParams}{Parameters}
{\em N\+U\+L\+L} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L 
\end{DoxyReturn}
\hypertarget{group__hal_ga69b08db00a381a9cad104bb62187a878}{}\index{Hal@{Hal}!interrupt\+\_\+handler\+\_\+0x21@{interrupt\+\_\+handler\+\_\+0x21}}
\index{interrupt\+\_\+handler\+\_\+0x21@{interrupt\+\_\+handler\+\_\+0x21}!Hal@{Hal}}
\subsubsection[{interrupt\+\_\+handler\+\_\+0x21}]{\setlength{\rightskip}{0pt plus 5cm}void interrupt\+\_\+handler\+\_\+0x21 (
\begin{DoxyParamCaption}
\item[{int32 $\ast$}]{esp}
\end{DoxyParamCaption}
)}\label{group__hal_ga69b08db00a381a9cad104bb62187a878}


interrupt routine of keyboard. 


\begin{DoxyParams}{Parameters}
{\em esp} & value of keyboard operation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L 
\end{DoxyReturn}
\hypertarget{group__hal_gaf6af72f1d0cb5d5742c565576f375591}{}\index{Hal@{Hal}!interrupt\+\_\+handler\+\_\+0x27@{interrupt\+\_\+handler\+\_\+0x27}}
\index{interrupt\+\_\+handler\+\_\+0x27@{interrupt\+\_\+handler\+\_\+0x27}!Hal@{Hal}}
\subsubsection[{interrupt\+\_\+handler\+\_\+0x27}]{\setlength{\rightskip}{0pt plus 5cm}void interrupt\+\_\+handler\+\_\+0x27 (
\begin{DoxyParamCaption}
\item[{int32 $\ast$}]{esp}
\end{DoxyParamCaption}
)}\label{group__hal_gaf6af72f1d0cb5d5742c565576f375591}


interrupt routine used for compatible and make code work. 


\begin{DoxyParams}{Parameters}
{\em esp} & value something I do not know. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L 
\end{DoxyReturn}
\hypertarget{group__hal_gad9f893ba050719bae099b3b1d5d1146c}{}\index{Hal@{Hal}!interrupt\+\_\+handler\+\_\+0x2c@{interrupt\+\_\+handler\+\_\+0x2c}}
\index{interrupt\+\_\+handler\+\_\+0x2c@{interrupt\+\_\+handler\+\_\+0x2c}!Hal@{Hal}}
\subsubsection[{interrupt\+\_\+handler\+\_\+0x2c}]{\setlength{\rightskip}{0pt plus 5cm}void interrupt\+\_\+handler\+\_\+0x2c (
\begin{DoxyParamCaption}
\item[{int32 $\ast$}]{esp}
\end{DoxyParamCaption}
)}\label{group__hal_gad9f893ba050719bae099b3b1d5d1146c}


interrupt routine of mouse. 


\begin{DoxyParams}{Parameters}
{\em esp} & value of mouse operation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L 
\end{DoxyReturn}
\hypertarget{group__hal_ga950bdcbc93f8f964e5725e1aa8b3b5ca}{}\index{Hal@{Hal}!is\+Cpu\+\_\+i386@{is\+Cpu\+\_\+i386}}
\index{is\+Cpu\+\_\+i386@{is\+Cpu\+\_\+i386}!Hal@{Hal}}
\subsubsection[{is\+Cpu\+\_\+i386}]{\setlength{\rightskip}{0pt plus 5cm}boolean is\+Cpu\+\_\+i386 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{group__hal_ga950bdcbc93f8f964e5725e1aa8b3b5ca}


test whether the cpu is exactly I386. 


\begin{DoxyParams}{Parameters}
{\em N\+U\+L\+L.} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+U\+E or F\+A\+L\+S\+E 
\end{DoxyReturn}
\hypertarget{group__hal_ga81897fb798b4a6de7461ec60532ba18c}{}\index{Hal@{Hal}!memtest@{memtest}}
\index{memtest@{memtest}!Hal@{Hal}}
\subsubsection[{memtest}]{\setlength{\rightskip}{0pt plus 5cm}uint32 memtest (
\begin{DoxyParamCaption}
\item[{uint32}]{start, }
\item[{uint32}]{end}
\end{DoxyParamCaption}
)}\label{group__hal_ga81897fb798b4a6de7461ec60532ba18c}


test the existed memory. 

used assembly function to do actually test. 
\begin{DoxyParams}{Parameters}
{\em start} & start from this address to test. \\
\hline
{\em end} & test end at this address. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the existed memory size in byte. 
\end{DoxyReturn}
\hypertarget{group__hal_ga943b20139b86756bb58ced0a5f7a71df}{}\index{Hal@{Hal}!os\+\_\+console\+\_\+api@{os\+\_\+console\+\_\+api}}
\index{os\+\_\+console\+\_\+api@{os\+\_\+console\+\_\+api}!Hal@{Hal}}
\subsubsection[{os\+\_\+console\+\_\+api}]{\setlength{\rightskip}{0pt plus 5cm}int32 os\+\_\+console\+\_\+api (
\begin{DoxyParamCaption}
\item[{int32}]{edi, }
\item[{int32}]{esi, }
\item[{int32}]{ebp, }
\item[{int32}]{esp, }
\item[{int32}]{ebx, }
\item[{int32}]{edx, }
\item[{int32}]{ecx, }
\item[{int32}]{eax}
\end{DoxyParamCaption}
)}\label{group__hal_ga943b20139b86756bb58ced0a5f7a71df}


call os api in console. 

This function is called by third party application. 
\begin{DoxyParams}{Parameters}
{\em edi} & register in assembly \\
\hline
{\em esi} & register in assembly \\
\hline
{\em ebp} & register in assembly \\
\hline
{\em esp} & register in assembly \\
\hline
{\em ebx} & register in assembly \\
\hline
{\em edx} & register in assembly \\
\hline
{\em ecx} & register in assembly \\
\hline
{\em eax} & register in assembly \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
return function address or N\+U\+L\+L. 
\end{DoxyReturn}
