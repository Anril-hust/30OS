\hypertarget{sheet_8h}{}\section{src/sheet.h File Reference}
\label{sheet_8h}\index{src/sheet.\+h@{src/sheet.\+h}}


basic functions related to sheet.  


{\ttfamily \#include \char`\"{}typedef.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}asmhead.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}func\+Utils.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mem.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_s_h_e_e_t}{S\+H\+E\+E\+T}
\begin{DoxyCompactList}\small\item\em struct of one sheet. \end{DoxyCompactList}\item 
struct \hyperlink{struct_s_h_e_e_t___c_t_l}{S\+H\+E\+E\+T\+\_\+\+C\+T\+L}
\begin{DoxyCompactList}\small\item\em struct of sheet\+Ctl. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__sheet_ga0e65d9c3f578acfc5f9209eaf934b5c9}{}\#define \hyperlink{group__sheet_ga0e65d9c3f578acfc5f9209eaf934b5c9}{N\+O\+N\+E\+\_\+\+C\+O\+L}~16\label{group__sheet_ga0e65d9c3f578acfc5f9209eaf934b5c9}

\begin{DoxyCompactList}\small\item\em 16\+:transparency \end{DoxyCompactList}\item 
\hypertarget{group__sheet_ga0bb9b527356bd0bd7199718d7e0c9d22}{}\#define {\bfseries M\+A\+X\+\_\+\+S\+H\+E\+E\+T\+\_\+\+N\+U\+M}~256\label{group__sheet_ga0bb9b527356bd0bd7199718d7e0c9d22}

\item 
\hypertarget{group__sheet_ga3445327e784e197b0568bfb7bb3765cb}{}\#define {\bfseries R\+E\+D\+R\+A\+W\+\_\+\+L\+I\+S\+T\+\_\+\+L\+E\+N}~1024\label{group__sheet_ga3445327e784e197b0568bfb7bb3765cb}

\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{struct_s_h_e_e_t}{S\+H\+E\+E\+T} \hyperlink{group__sheet_ga23b899e9e9ca793355d135d465a525ec}{S\+H\+E\+E\+T}
\begin{DoxyCompactList}\small\item\em struct of one sheet. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_s_h_e_e_t___c_t_l}{S\+H\+E\+E\+T\+\_\+\+C\+T\+L} \hyperlink{group__sheet_ga834357b928338fffff2455b852af235d}{S\+H\+E\+E\+T\+\_\+\+C\+T\+L}
\begin{DoxyCompactList}\small\item\em struct of sheet\+Ctl. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__sheet_ga84bc4feeaed8d9ee63caa9ac081b4d90}{sheet\+\_\+init} (uint8 $\ast$res\+Vram)
\begin{DoxyCompactList}\small\item\em init sheet\+Ctl. \end{DoxyCompactList}\item 
boolean \hyperlink{group__sheet_ga91b935bbd00dee76f18e37307dbf116b}{sheet\+\_\+add} (I\+N uint8 $\ast$buf, I\+N int32 width, I\+N int32 height, I\+N int32 top\+Left\+X, I\+N int32 top\+Left\+Y, I\+N int8 flags, O\+U\+T \hyperlink{struct_s_h_e_e_t}{S\+H\+E\+E\+T} $\ast$$\ast$sheet)
\begin{DoxyCompactList}\small\item\em create one sheet, add the related value into sheet\+Ctl, You can get the sheet handle from param sheet. \end{DoxyCompactList}\item 
boolean \hyperlink{group__sheet_ga945f67fabfd3cdf76d1403692b6749eb}{sheet\+\_\+add\+\_\+mouse} (I\+N uint8 $\ast$buf, I\+N int32 width, I\+N int32 height, I\+N int32 top\+Left\+X, I\+N int32 top\+Left\+Y, I\+N int8 flags, O\+U\+T \hyperlink{struct_s_h_e_e_t}{S\+H\+E\+E\+T} $\ast$$\ast$sheet)
\begin{DoxyCompactList}\small\item\em add the mouse into sheet\+Ctl, You can get the sheet handle from param sheet. \end{DoxyCompactList}\item 
boolean \hyperlink{group__sheet_gac54d19422d9a8fc6ee0ac68b18d23664}{sheet\+\_\+del} (I\+N \hyperlink{struct_s_h_e_e_t}{S\+H\+E\+E\+T} $\ast$sheet)
\begin{DoxyCompactList}\small\item\em delete on sheet from sheet\+Ctl. \end{DoxyCompactList}\item 
void \hyperlink{group__sheet_gaac62e7c10483a2de006e8aaaaf32cab3}{sheet\+\_\+sort} ()
\begin{DoxyCompactList}\small\item\em sort the sheet acccording to their Zvalue, z describe the layer of the sheet. \end{DoxyCompactList}\item 
boolean \hyperlink{group__sheet_ga6e435a2b89c42cc84bdc967e21f2d3ac}{sheet\+\_\+pin\+\_\+top} (I\+N \hyperlink{struct_s_h_e_e_t}{S\+H\+E\+E\+T} $\ast$sheet)
\begin{DoxyCompactList}\small\item\em put the given sheet on the top layer. \end{DoxyCompactList}\item 
void \hyperlink{group__sheet_ga60adeb9ceefccb6371183f12dbcc33ed}{sheet\+\_\+draw\+\_\+all} ()
\begin{DoxyCompactList}\small\item\em refresh the whole screen, redraw all the sheet existed. \end{DoxyCompactList}\item 
void \hyperlink{group__sheet_gaeb623f9ef3418510f8cace8a377a6611}{sheet\+\_\+draw\+\_\+sub} (I\+N int32 top\+Left\+X, I\+N int32 top\+Left\+Y, I\+N int32 bottom\+Right\+X, I\+N int32 bottom\+Right\+Y)
\begin{DoxyCompactList}\small\item\em refresh the given rectangle area, redraw all the sheet if in this area. \end{DoxyCompactList}\item 
void \hyperlink{group__sheet_gabdacf0bce47e8fd4e54bfce39ef6576d}{sheet\+\_\+draw\+\_\+sub\+\_\+without\+Mouse} (I\+N int32 top\+Left\+X, I\+N int32 top\+Left\+Y, I\+N int32 bottom\+Right\+X, I\+N int32 bottom\+Right\+Y)
\begin{DoxyCompactList}\small\item\em refresh the given rectangle area, redraw all the sheet if in this area without sheet which hold mouse. \end{DoxyCompactList}\item 
boolean \hyperlink{group__sheet_gaf4aa5d69cd5cf898b9a6430ca682c06d}{sheet\+\_\+add\+\_\+redraw\+\_\+region} (I\+N int32 top\+Left\+X, I\+N int32 top\+Left\+Y, I\+N int32 bottom\+Right\+X, I\+N int32 bottom\+Right\+Y)
\begin{DoxyCompactList}\small\item\em add the redraw request. \end{DoxyCompactList}\item 
boolean \hyperlink{group__sheet_gaac86a946b96df88ab655ec74a8fc4aa3}{sheet\+\_\+add\+\_\+redraw\+\_\+region\+\_\+rect} (I\+N \hyperlink{struct_r_e_c_t}{R\+E\+C\+T} rect)
\begin{DoxyCompactList}\small\item\em add the redraw request. \end{DoxyCompactList}\item 
void \hyperlink{group__sheet_gaec5e44c6cc2a850fd38a903e5d2abcb5}{sheet\+\_\+draw\+\_\+deamon} ()
\begin{DoxyCompactList}\small\item\em the redraw daemon. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
basic functions related to sheet. 

All drawing action operate on sheet. The sheet is similiar to Layer. It can hold pixels. All movement of action also based on sheet, The sheet is managed by \hyperlink{struct_s_h_e_e_t___c_t_l}{S\+H\+E\+E\+T\+\_\+\+C\+T\+L}. These file contains some utils functions used to operate the sheet. There are two ways to redraw the screen. 1st, directly call \hyperlink{group__sheet_gaeb623f9ef3418510f8cace8a377a6611}{sheet\+\_\+draw\+\_\+sub()}, \hyperlink{group__sheet_ga60adeb9ceefccb6371183f12dbcc33ed}{sheet\+\_\+draw\+\_\+all()} or \hyperlink{group__sheet_gabdacf0bce47e8fd4e54bfce39ef6576d}{sheet\+\_\+draw\+\_\+sub\+\_\+without\+Mouse()}. That would be redrawn immediately. 2nd, call \hyperlink{group__sheet_gaac86a946b96df88ab655ec74a8fc4aa3}{sheet\+\_\+add\+\_\+redraw\+\_\+region\+\_\+rect()} or \hyperlink{group__sheet_gaf4aa5d69cd5cf898b9a6430ca682c06d}{sheet\+\_\+add\+\_\+redraw\+\_\+region()} to add redraw request. That would be redrawn by sheet\+\_\+daemon when C\+P\+U is idle. 