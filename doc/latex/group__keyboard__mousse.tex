\hypertarget{group__keyboard__mousse}{}\section{Keyboard\+\_\+mousse}
\label{group__keyboard__mousse}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}


this module contains function related to keyboard and mouse.  


\subsection*{Modules}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__key__map}{Key\+\_\+map}
\begin{DoxyCompactList}\small\item\em this value represent the pos of these key\+Codes in keytable. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_k_e_y___d_o_w_n}{K\+E\+Y\+\_\+\+D\+O\+W\+N}
\begin{DoxyCompactList}\small\item\em the pressed state of mouse keys. \end{DoxyCompactList}\item 
struct \hyperlink{struct_m_o_u_s_e___c_t_l}{M\+O\+U\+S\+E\+\_\+\+C\+T\+L}
\begin{DoxyCompactList}\small\item\em mouse information. \end{DoxyCompactList}\item 
struct \hyperlink{struct_k_e_y_b_o_a_r_d___c_t_l}{K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+C\+T\+L}
\begin{DoxyCompactList}\small\item\em keyboard information. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__keyboard__mousse_ga633080e9601cd863173f0eaf2490587b}{}\#define {\bfseries K\+E\+Y\+\_\+\+T\+B\+L\+\_\+\+S\+I\+Z\+E}~0x59\label{group__keyboard__mousse_ga633080e9601cd863173f0eaf2490587b}

\item 
\hypertarget{group__keyboard__mousse_ga50c9bc14d66361dbd6f833ff252ab427}{}\#define {\bfseries K\+E\+Y\+C\+M\+D\+\_\+\+L\+E\+D}~0xed\label{group__keyboard__mousse_ga50c9bc14d66361dbd6f833ff252ab427}

\item 
\hypertarget{group__keyboard__mousse_gac180efd451d9441e52db22ed03e34268}{}\#define {\bfseries K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+L\+E\+N}~1024\label{group__keyboard__mousse_gac180efd451d9441e52db22ed03e34268}

\item 
\hypertarget{group__keyboard__mousse_gacb18dcfa495d57f980ec36e86b89de88}{}\#define {\bfseries M\+O\+U\+S\+E\+\_\+\+H\+E\+I\+G\+H\+T}~10\label{group__keyboard__mousse_gacb18dcfa495d57f980ec36e86b89de88}

\item 
\hypertarget{group__keyboard__mousse_ga34b0ee6b88f41401e199b3f10e1d48d4}{}\#define {\bfseries M\+O\+U\+S\+E\+\_\+\+W\+I\+D\+T\+H}~10\label{group__keyboard__mousse_ga34b0ee6b88f41401e199b3f10e1d48d4}

\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{struct_k_e_y___d_o_w_n}{K\+E\+Y\+\_\+\+D\+O\+W\+N} \hyperlink{group__keyboard__mousse_gac3cb28f52c35738da3198d6e6af3103d}{K\+E\+Y\+\_\+\+D\+O\+W\+N}
\begin{DoxyCompactList}\small\item\em the pressed state of mouse keys. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_m_o_u_s_e___c_t_l}{M\+O\+U\+S\+E\+\_\+\+C\+T\+L} \hyperlink{group__keyboard__mousse_gaea67189c062822a09168edbef65e1fe7}{M\+O\+U\+S\+E\+\_\+\+C\+T\+L}
\begin{DoxyCompactList}\small\item\em mouse information. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_k_e_y_b_o_a_r_d___c_t_l}{K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+C\+T\+L} \hyperlink{group__keyboard__mousse_gabf8195274ea750bccb5b26a7f706151d}{K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+C\+T\+L}
\begin{DoxyCompactList}\small\item\em keyboard information. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__keyboard__mousse_ga34abdc78c759d98043173a4a6201ca84}{wait\+For\+K\+B\+C\+Send\+Ready} ()
\begin{DoxyCompactList}\small\item\em wait for keyboard to be ready for next operation. \end{DoxyCompactList}\item 
void \hyperlink{group__keyboard__mousse_gabe9197e112b3da28ce58f843b708112d}{enable\+Mouse} ()
\begin{DoxyCompactList}\small\item\em enable mouse operation. \end{DoxyCompactList}\item 
void \hyperlink{group__keyboard__mousse_gaf4634cae9b64dd421162159e34e8725a}{Init\+Peripheral\+Buffer} ()
\begin{DoxyCompactList}\small\item\em init buffer for mouse and keyboard. \end{DoxyCompactList}\item 
void \hyperlink{group__keyboard__mousse_ga5696e341ca1eb3c499d74e9e95c70638}{Mouse\+Keyboard\+Deamon} ()
\begin{DoxyCompactList}\small\item\em capture mouse and keyboard interruption, save them for future use. \end{DoxyCompactList}\item 
boolean \hyperlink{group__keyboard__mousse_ga918caebba49a6cb1b6911106662e1c35}{Init\+Mouse} ()
\begin{DoxyCompactList}\small\item\em init mouse. \end{DoxyCompactList}\item 
void \hyperlink{group__keyboard__mousse_ga1a120f7ff0f74ebdc1f34384d70b20e4}{Mouse\+Get\+Pos} (\hyperlink{struct_p_o_s}{P\+O\+S} $\ast$pos)
\begin{DoxyCompactList}\small\item\em get pos of mouse \end{DoxyCompactList}\item 
void \hyperlink{group__keyboard__mousse_ga01ccca89f78ef807bb021f66fe1addaf}{Mouse\+Get\+Key} (\hyperlink{struct_k_e_y___d_o_w_n}{K\+E\+Y\+\_\+\+D\+O\+W\+N} $\ast$keydown)
\begin{DoxyCompactList}\small\item\em get keyvalue of mouse \end{DoxyCompactList}\item 
void \hyperlink{group__keyboard__mousse_ga76b51f3fb6a339a55ac945dad1272684}{Init\+Keyboard} ()
\begin{DoxyCompactList}\small\item\em init keyboard \end{DoxyCompactList}\item 
int32 \hyperlink{group__keyboard__mousse_gaf9e34965b72e06edbe9d67a16bdfde66}{Keyboard\+Get\+Char} (int8 $\ast$buffer, int32 cnt)
\begin{DoxyCompactList}\small\item\em get key pressed value from keyboard\+Ctl \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__keyboard__mousse_ga9c88598fb7517d3e0cfd01a513829f99}{}\hyperlink{struct_m_o_u_s_e___c_t_l}{M\+O\+U\+S\+E\+\_\+\+C\+T\+L} \hyperlink{group__keyboard__mousse_ga9c88598fb7517d3e0cfd01a513829f99}{mouse\+Ctl}\label{group__keyboard__mousse_ga9c88598fb7517d3e0cfd01a513829f99}

\begin{DoxyCompactList}\small\item\em mouse control block \end{DoxyCompactList}\item 
\hypertarget{group__keyboard__mousse_gadaa56bf70c720efde081a6a778a05f6a}{}\hyperlink{struct_k_e_y_b_o_a_r_d___c_t_l}{K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+C\+T\+L} \hyperlink{group__keyboard__mousse_gadaa56bf70c720efde081a6a778a05f6a}{keyboard\+Ctl}\label{group__keyboard__mousse_gadaa56bf70c720efde081a6a778a05f6a}

\begin{DoxyCompactList}\small\item\em keyboard control block \end{DoxyCompactList}\item 
\hypertarget{group__keyboard__mousse_ga6d77af0e052543e6b5e2935790fdc35e}{}\hyperlink{struct_loop_array}{Loop\+Array} {\bfseries keyboard\+Loop\+Array}\label{group__keyboard__mousse_ga6d77af0e052543e6b5e2935790fdc35e}

\item 
\hypertarget{group__keyboard__mousse_gab332656e915f5bbf0da70909979f1d27}{}\hyperlink{struct_loop_array}{Loop\+Array} {\bfseries mouse\+Loop\+Array}\label{group__keyboard__mousse_gab332656e915f5bbf0da70909979f1d27}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
this module contains function related to keyboard and mouse. 



\subsection{Typedef Documentation}
\hypertarget{group__keyboard__mousse_gac3cb28f52c35738da3198d6e6af3103d}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!K\+E\+Y\+\_\+\+D\+O\+W\+N@{K\+E\+Y\+\_\+\+D\+O\+W\+N}}
\index{K\+E\+Y\+\_\+\+D\+O\+W\+N@{K\+E\+Y\+\_\+\+D\+O\+W\+N}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{K\+E\+Y\+\_\+\+D\+O\+W\+N}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf K\+E\+Y\+\_\+\+D\+O\+W\+N} {\bf K\+E\+Y\+\_\+\+D\+O\+W\+N}}\label{group__keyboard__mousse_gac3cb28f52c35738da3198d6e6af3103d}


the pressed state of mouse keys. 

\hypertarget{group__keyboard__mousse_gabf8195274ea750bccb5b26a7f706151d}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+C\+T\+L@{K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+C\+T\+L}}
\index{K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+C\+T\+L@{K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+C\+T\+L}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+C\+T\+L}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+C\+T\+L} {\bf K\+E\+Y\+B\+O\+A\+R\+D\+\_\+\+C\+T\+L}}\label{group__keyboard__mousse_gabf8195274ea750bccb5b26a7f706151d}


keyboard information. 

including key buffer and function keys. \hypertarget{group__keyboard__mousse_gaea67189c062822a09168edbef65e1fe7}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!M\+O\+U\+S\+E\+\_\+\+C\+T\+L@{M\+O\+U\+S\+E\+\_\+\+C\+T\+L}}
\index{M\+O\+U\+S\+E\+\_\+\+C\+T\+L@{M\+O\+U\+S\+E\+\_\+\+C\+T\+L}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{M\+O\+U\+S\+E\+\_\+\+C\+T\+L}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf M\+O\+U\+S\+E\+\_\+\+C\+T\+L} {\bf M\+O\+U\+S\+E\+\_\+\+C\+T\+L}}\label{group__keyboard__mousse_gaea67189c062822a09168edbef65e1fe7}


mouse information. 

including pos, buffer \& its sheet. etc. 

\subsection{Function Documentation}
\hypertarget{group__keyboard__mousse_gabe9197e112b3da28ce58f843b708112d}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!enable\+Mouse@{enable\+Mouse}}
\index{enable\+Mouse@{enable\+Mouse}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{enable\+Mouse}]{\setlength{\rightskip}{0pt plus 5cm}void enable\+Mouse (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{group__keyboard__mousse_gabe9197e112b3da28ce58f843b708112d}


enable mouse operation. 


\begin{DoxyParams}{Parameters}
{\em N\+U\+L\+L} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L 
\end{DoxyReturn}
\hypertarget{group__keyboard__mousse_ga76b51f3fb6a339a55ac945dad1272684}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!Init\+Keyboard@{Init\+Keyboard}}
\index{Init\+Keyboard@{Init\+Keyboard}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{Init\+Keyboard}]{\setlength{\rightskip}{0pt plus 5cm}void Init\+Keyboard (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{group__keyboard__mousse_ga76b51f3fb6a339a55ac945dad1272684}


init keyboard 


\begin{DoxyParams}{Parameters}
{\em N\+U\+L\+L.} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L. 
\end{DoxyReturn}
\hypertarget{group__keyboard__mousse_ga918caebba49a6cb1b6911106662e1c35}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!Init\+Mouse@{Init\+Mouse}}
\index{Init\+Mouse@{Init\+Mouse}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{Init\+Mouse}]{\setlength{\rightskip}{0pt plus 5cm}boolean Init\+Mouse (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{group__keyboard__mousse_ga918caebba49a6cb1b6911106662e1c35}


init mouse. 

This function laod the mouse pixels and draw the mouse on the mouse sheet. 
\begin{DoxyParams}{Parameters}
{\em N\+U\+L\+L} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
whether the init is successful. if yes, return T\+R\+U\+E els F\+A\+L\+S\+E; 
\end{DoxyReturn}
\hypertarget{group__keyboard__mousse_gaf4634cae9b64dd421162159e34e8725a}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!Init\+Peripheral\+Buffer@{Init\+Peripheral\+Buffer}}
\index{Init\+Peripheral\+Buffer@{Init\+Peripheral\+Buffer}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{Init\+Peripheral\+Buffer}]{\setlength{\rightskip}{0pt plus 5cm}void Init\+Peripheral\+Buffer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{group__keyboard__mousse_gaf4634cae9b64dd421162159e34e8725a}


init buffer for mouse and keyboard. 


\begin{DoxyParams}{Parameters}
{\em N\+U\+L\+L} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L 
\end{DoxyReturn}
\hypertarget{group__keyboard__mousse_gaf9e34965b72e06edbe9d67a16bdfde66}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!Keyboard\+Get\+Char@{Keyboard\+Get\+Char}}
\index{Keyboard\+Get\+Char@{Keyboard\+Get\+Char}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{Keyboard\+Get\+Char}]{\setlength{\rightskip}{0pt plus 5cm}int32 Keyboard\+Get\+Char (
\begin{DoxyParamCaption}
\item[{int8 $\ast$}]{buffer, }
\item[{int32}]{cnt}
\end{DoxyParamCaption}
)}\label{group__keyboard__mousse_gaf9e34965b72e06edbe9d67a16bdfde66}


get key pressed value from keyboard\+Ctl 


\begin{DoxyParams}{Parameters}
{\em buffer} & the buffer to contain these buffer. \\
\hline
{\em cnt} & the length of buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the cnt key value in the buffer. would be less than var cnt. 
\end{DoxyReturn}
\hypertarget{group__keyboard__mousse_ga01ccca89f78ef807bb021f66fe1addaf}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!Mouse\+Get\+Key@{Mouse\+Get\+Key}}
\index{Mouse\+Get\+Key@{Mouse\+Get\+Key}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{Mouse\+Get\+Key}]{\setlength{\rightskip}{0pt plus 5cm}void Mouse\+Get\+Key (
\begin{DoxyParamCaption}
\item[{{\bf K\+E\+Y\+\_\+\+D\+O\+W\+N} $\ast$}]{keydown}
\end{DoxyParamCaption}
)}\label{group__keyboard__mousse_ga01ccca89f78ef807bb021f66fe1addaf}


get keyvalue of mouse 


\begin{DoxyParams}{Parameters}
{\em keydown} & get the keyvalue of mouse \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L. 
\end{DoxyReturn}
\hypertarget{group__keyboard__mousse_ga1a120f7ff0f74ebdc1f34384d70b20e4}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!Mouse\+Get\+Pos@{Mouse\+Get\+Pos}}
\index{Mouse\+Get\+Pos@{Mouse\+Get\+Pos}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{Mouse\+Get\+Pos}]{\setlength{\rightskip}{0pt plus 5cm}void Mouse\+Get\+Pos (
\begin{DoxyParamCaption}
\item[{{\bf P\+O\+S} $\ast$}]{pos}
\end{DoxyParamCaption}
)}\label{group__keyboard__mousse_ga1a120f7ff0f74ebdc1f34384d70b20e4}


get pos of mouse 


\begin{DoxyParams}{Parameters}
{\em pos} & return the pos of current mouse. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L. 
\end{DoxyReturn}
\hypertarget{group__keyboard__mousse_ga5696e341ca1eb3c499d74e9e95c70638}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!Mouse\+Keyboard\+Deamon@{Mouse\+Keyboard\+Deamon}}
\index{Mouse\+Keyboard\+Deamon@{Mouse\+Keyboard\+Deamon}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{Mouse\+Keyboard\+Deamon}]{\setlength{\rightskip}{0pt plus 5cm}void Mouse\+Keyboard\+Deamon (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{group__keyboard__mousse_ga5696e341ca1eb3c499d74e9e95c70638}


capture mouse and keyboard interruption, save them for future use. 

Tackle the interruption of mouse and keyboard. move the mouse directly, save the keyboard state into keyboard\+Ctl. program should get the pressed key from keyboard\+Ctl through \hyperlink{group__keyboard__mousse_gaf9e34965b72e06edbe9d67a16bdfde66}{Keyboard\+Get\+Char()}. 
\begin{DoxyParams}{Parameters}
{\em N\+U\+L\+L} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L 
\end{DoxyReturn}
\hypertarget{group__keyboard__mousse_ga34abdc78c759d98043173a4a6201ca84}{}\index{Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}!wait\+For\+K\+B\+C\+Send\+Ready@{wait\+For\+K\+B\+C\+Send\+Ready}}
\index{wait\+For\+K\+B\+C\+Send\+Ready@{wait\+For\+K\+B\+C\+Send\+Ready}!Keyboard\+\_\+mousse@{Keyboard\+\_\+mousse}}
\subsubsection[{wait\+For\+K\+B\+C\+Send\+Ready}]{\setlength{\rightskip}{0pt plus 5cm}void wait\+For\+K\+B\+C\+Send\+Ready (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{group__keyboard__mousse_ga34abdc78c759d98043173a4a6201ca84}


wait for keyboard to be ready for next operation. 


\begin{DoxyParams}{Parameters}
{\em N\+U\+L\+L} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+L\+L 
\end{DoxyReturn}
